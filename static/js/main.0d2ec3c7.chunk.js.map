{"version":3,"sources":["useClock.js","clockController.js","useEww.js","dhusToGeojson.js","eww.js","useDatahub.js","missionselector.js","mapselector.js","stepmask.js","timeselector2.js","timelabel.js","mapstatelabel.js","debug.js","slidepanel.js","colorpicker.js","app.js","registerServiceWorker.js","initglobalstates.js","index.js"],"names":["useClock","_ref","autoStart","duration","initDate","startdate","_useState","useState","_useState2","Object","slicedToArray","date","setDate","_useState3","_useState4","playing","setPlaying","ldate","useRef","refreshRate","intervalRef","step","timeoutRef","start","console","log","current","setInterval","incrementDate","setTimeout","togglePause","clearTimeout","clearInterval","undefined","useEffect","Date","getTime","reset","increaseSpeed","Math","abs","decreaseSpeed","forceDate","newdate","ClockController","_useGlobal","useGlobal","_useGlobal2","appdate","setAppdate","_useClock","useHotkeys","lastTap","setLasttap","react_default","a","createElement","className","onClick","now","useEww","id","clon","clat","alt","starfield","atmosphere","names","eww","setProjection","_useState5","_useState6","geojsonlayers","setGeojsonlayers","_useState7","latitude","longitude","altitude","aoi","_useState8","ewwstate","setEwwState","setGlobeStates","lo","navigator","lookAtLocation","la","al","range","vp","bl","tr","view","viewport","polygon","pickTerrain","canvasCoordinates","x","y","height","terrainObject","position","round","err","width","getViewPolygon","objectSpread","viewpolygon","handleClick","recognizer","clientX","clientY","pickList","pick","pickedItems","i","objects","length","userObject","WorldWind","SurfaceShape","push","userProperties","name","highlighted","redraw","handleDoubleClick","point","WorldWindow","redrawCallbacks","BasicWorldWindowController","prototype","applyLimits","WWMath","clamp","clickRecognizer","ClickRecognizer","numberOfClicks","doubleClickRecognizer","recognizeSimultaneouslyWith","maxClickInterval","wmsConfigBg","service","layerNames","numLevels","format","size","sector","Sector","FULL_SPHERE","levelZeroDelta","Location","wmsConfigNames","configuration","baseUrl","slice","starFieldLayer","StarFieldLayer","atmosphereLayer","AtmosphereLayer","layers","layer","WmsLayer","enabled","l","addLayer","time","goToAnimator","travelTime","goTo","Position","deepPicking","removeGeojson","removeLayer","addGeojson","url","replace","renderableLayer","RenderableLayer","properties","updated","ceil","random","GeoJSONParser","load","concat","toConsumableArray","geometry","placemarkAttributes","PlacemarkAttributes","imageScale","imageColor","Color","labelAttributes","offset","Offset","OFFSET_FRACTION","isPointType","isMultiPointType","attributes","isLineStringType","isMultiLineStringType","drawOutline","outlineColor","interiorColor","red","green","blue","outlineWidth","isPolygonType","isMultiPolygonType","ShapeAttributes","highlightAttributes","applyLighting","addWMS","config","toggleStarfield","toggleAtmosphere","setTime","epoch","toggleProjection","prevProj","supportedProjections","newProj","indexOf","globe","projection","ProjectionWgs84","ProjectionEquirectangular","ProjectionMercator","ProjectionPolarEquidistant","toggleNames","dhusToGeojson","response","mapFromHubOpenSearch","item","reshuffle","array","json","content","hubItem","assign","int","double","str","sizeInBytes","sizeArray","split","parseFloat","title","wellknown","footprint","type","ingestiondate","beginposition","endposition","links","data","href","link","earthObservation","parentIdentifier","status","acquisitionInformation","platform","platformShortName","platformname","platformSerialIdentifier","platformserialidentifier","sensor","instrument","instrumentshortname","operationalMode","sensoroperationalmode","acquisitionParameter","acquisitionStartTime","acquisitionStopTime","relativePassNumber","parseInt","relativeorbitnumber","orbitNumber","orbitnumber","startTimeFromAscendingNode","stopTimeFromAscendingNode","orbitDirection","orbitdirection","productInformation","productType","producttype","message","features","feed","entry","Array","isArray","map","filter","totalResults","startIndex","itemsPerPage","Eww","_useEww","_useDatahub","buildUrl","code","startindex","mission","end","windowSize","target","templateUrl","dateOff","areaOff","find","collection","newurl","dateFormat","geojsonResults","setGeojsonResults","loading","setLoading","isfirstpage","setIsfirstPage","searchdate","_useGlobal3","_useGlobal5","apppolygon","searchUrl","setSearchurl","_useState9","_useState10","pagination","setPagination","_ref2","asyncToGenerator","regenerator_default","mark","_callee","geoJson","wrap","_context","prev","next","fetch","mode","credentials","sent","totalresults","Number","itemsperpage","t0","stop","_x","apply","this","arguments","fetchURL","min","_unused2","_unused3","useDatahub","_useGlobal7","_useGlobal8","appstarfield","setAppstarfield","_useGlobal9","_useGlobal10","appatmosphere","setAppatmosphere","_useGlobal11","_useGlobal12","appnames","setAppnames","_useGlobal13","setSearching","_useGlobal15","setAppaltitude","_useGlobal17","setApplatitude","_useGlobal19","setApplongitude","_useGlobal21","_useGlobal22","setApppolygon","setReplace","state","reactn_default","style","background","MissionSelector","setMission","draggable","src","MapSelector","_useGlobal4","_useGlobal6","StepMask","highlight","active","setDebug","display","TimeSelector","props","wid","zoomfactor","max","hei","vertical","setSearchdate","setHighlight","livePosition","setLiveposition","tsactive","setTsactive","setStep","myvertical","timecontainer","_useSpring","useSpring","xy","_useSpring2","set","bind","useGesture","onDrag","down","delta","velocity","distance","direction","wheeling","first","_ref$temp","last","temp","getValue","deltaOffset","deltaCumul","lastNewxy","lastStep","lastIncrement","lastDown","lastTime","scale","parentElement","offsetHeight","div","sub","deltaFactor","newxy","add","pow","minX","offsetTop","maxX","mass","tension","friction","precision","immediate","onRest","_ref3","onFrame","onWheel","_ref4","local","_ref4$temp","_ref6","_ref5","timescale","setTimescale","useLayoutEffect","day","month","lastday","monthcode","year","lastmonth","tics","dayclass","monthclass","yearclass","getUTCDate","getUTCMonth","getUTCHours","getUTCFullYear","class","pos","label","key","top","left","scaleText","offsetWidth","zoom","points","ref","web","transform","interpolate","TimeLabel","searching","setYear","setMonth","setDay","MapStateLabel","appaltitude","Debug","debug","setActive","debugkeys","setDebugkeys","lines","SlidePanel","visible","setVisible","slidePanel","toggle","event","vxvy","initTarget","getAttribute","passive","imageSrc","children","ColorPicker","App","hasFetched","setFetch","setVertical","prevVertical","mockApi","Promise","resolve","randomInt","_doFetch","doFetch","isFull","setIsfull","_useFullscreen","useFullscreen","window","document","body","toggleFullscreen","isFullscreen","dist_default","onChange","src_timelabel","clockController","timeselector2","src_mapstatelabel","src_missionselector","src_mapselector","src_debug_0","action","src_stepmask","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","catch","error","setGlobal","render","app","getElementById","URL","process","origin","addEventListener","headers","get","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.0d2ec3c7.chunk.js","sourcesContent":["import { useState, useEffect, useRef } from \"react\";\n\n\nexport function useClock({ autoStart, duration, startdate }) {\n    //console.log('useClock renders')\n    //const { autoStart, duration } = settings || {};\n  \n    let initDate = startdate\n    const [date, setDate] = useState(initDate)\n    const [playing, setPlaying] = useState(false)\n    const ldate = useRef();\n\n    // refresh rate in msec\n    const refreshRate = 50\n\n    function incrementDate(step) {\n        //setDate(prevDate => { return prevDate + step  });\n        ldate.current += step \n        //setDate((new Date(ldate.current)).getTime());\n        setDate(ldate.current);\n    }\n      \n\n      // Control functions\n    const intervalRef = useRef();\n    const step = useRef(refreshRate);\n    const timeoutRef = useRef();\n    \n\n    function increaseSpeed() {\n        step.current = (step.current > 0)? step.current *= 2:step.current /= 2\n        if(Math.abs(step.current) < refreshRate) step.current = refreshRate\n    }\n    function decreaseSpeed() {\n        step.current = (step.current > 0)? step.current /= 2:step.current *= 2\n        if(Math.abs(step.current) < refreshRate) step.current = -1 * refreshRate\n     }\n\n    function start() {\n        console.log(\"starting Timer... (will stop in \"+duration/1000+\" sec)\")\n        if (!intervalRef.current) {\n            intervalRef.current = setInterval(() => incrementDate(step.current), refreshRate);\n            setPlaying(true)\n        }\n        timeoutRef.current = setTimeout(() => {\n            togglePause()\n            //start()\n          }, duration);\n    }\n\n    function togglePause() {\n        console.log('toggle clock')\n        if(timeoutRef.current) clearTimeout(timeoutRef.current)\n        if (intervalRef.current) {\n            setPlaying(false)\n            clearInterval(intervalRef.current)\n            intervalRef.current = undefined\n        } else start()\n    }\n\n    function reset() {\n        console.log('reset')\n        if (intervalRef.current) {\n            clearInterval(intervalRef.current)\n            intervalRef.current = undefined\n            setPlaying(false)\n        }\n        let initDate = (new Date()).getTime()\n        step.current = refreshRate\n        setDate(initDate)\n        ldate.current = initDate\n    }\n\n     \n    function forceDate(newdate) {\n        ldate.current = newdate\n    }\n\n\n    // didMount effect\n    useEffect(() => {\n        setDate((new Date()).getTime())\n        ldate.current = date\n        if (autoStart) {\n            start();\n        }\n        //return reset;\n    }, []);\n\n  \n  return { date, playing, togglePause, reset, increaseSpeed, decreaseSpeed, forceDate };\n}\n","import React, { useState, useEffect } from \"react\"\nimport { useClock } from \"./useClock\";\nimport { useGlobal } from 'reactn';\nimport { useHotkeys } from 'react-hotkeys-hook';\n\n\n\n\n\nfunction ClockController({ duration }) {\n\n    const [ appdate, setAppdate ] = useGlobal('appdate');\n\n    const {\n        date,\n        playing,\n        togglePause,\n        reset,\n        increaseSpeed,\n        decreaseSpeed,\n        forceDate\n    } = useClock({\n        autoStart: false,\n        duration: duration,\n        startdate: appdate\n    })\n\n\n    useHotkeys(\"t\",togglePause)\n    useHotkeys(\"r\",reset)\n    useHotkeys(\".\",increaseSpeed)\n    useHotkeys(\",\",decreaseSpeed)\n\n    //const dateLabel = (new Date(date) ).toUTCString()\n\n\n\n    useEffect(() => {\n        //console.log(\"useEffect (date) in ClockController\")\n        setAppdate(date)\n        //forceDate(date)\n        //setAppdate({appdate: new Date(date)})\n    },[date]);\n\n    useEffect(() => {\n        //console.log(\"useEffect (appdate) in ClockController\")\n        //setAppdate(date)\n        forceDate(appdate)\n        //setAppdate({appdate: new Date(date)})\n    },[appdate]);\n\n    useEffect(() => {\n        //console.log(\"useEffect (init) in ClockController\")\n        //console.log(\"appdate changed\")\n        forceDate(appdate)\n    },[]);\n\n    const [lastTap, setLasttap] = useState()\n    const handleDoubleTap = () => {\n        console.log('pressed')\n        const now = Date.now();\n        if (lastTap && (now - lastTap) < 300) {\n          reset();\n        } else {\n            setLasttap(now)\n            togglePause()\n        }\n      }\n    \n    return (\n/*\n        <div {...handlers} style={{display: \"flex\", justifyContent: \"center\", alignItems: \"center\", width:\"100%\", height: \"100%\"}}>\n            {(new Date(date) ).toUTCString()}\n        </div>\n\n<div onClick={togglePause}><img className='Buttons' src={playing?pauseImage:playImage} alt=''/></div>\n*/\n\n    <div className= 'ClockController' onClick={handleDoubleTap} ></div>\n    );\n}\n\nexport default ClockController;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport WorldWind from \"webworldwind-esa\";\n\n\n// BasicWorldWindowController.prototype.applyLimits = function () {\n//     var navigator = this.wwd.navigator;\n\n//     // Clamp latitude to between -90 and +90, and normalize longitude to between -180 and +180.\n//     navigator.lookAtLocation.latitude = WWMath.clamp(navigator.lookAtLocation.latitude, -90, 90);\n//     navigator.lookAtLocation.longitude = Angle.normalizedDegreesLongitude(navigator.lookAtLocation.longitude);\n\n//     // Clamp range to values greater than 1 in order to prevent degenerating to a first-person navigator when\n//     // range is zero.\n//     navigator.range = WWMath.clamp(navigator.range, 1, Number.MAX_VALUE);\n\n//     // Normalize heading to between -180 and +180.\n//     navigator.heading = Angle.normalizedDegrees(navigator.heading);\n\n//     // Clamp tilt to between 0 and +90 to prevent the viewer from going upside down.\n//     navigator.tilt = WWMath.clamp(navigator.tilt, 0, 90);\n\n//     // Normalize heading to between -180 and +180.\n//     navigator.roll = Angle.normalizedDegrees(navigator.roll);\n\n//     // Apply 2D limits when the globe is 2D.\n//     if (this.wwd.globe.is2D() && navigator.enable2DLimits) {\n//         // Clamp range to prevent more than 360 degrees of visible longitude. Assumes a 45 degree horizontal\n//         // field of view.\n//         var maxRange = 2  Math.PI  this.wwd.globe.equatorialRadius;\n//         navigator.range = WWMath.clamp(navigator.range, 1, maxRange);\n\n//         // Force tilt to 0 when in 2D mode to keep the viewer looking straight down.\n//         navigator.tilt = 0;\n//     }\n// };\n\nexport function useEww({ id, clon, clat, alt, starfield, atmosphere, names }) {\n    //console.log('useEww renders')\n    \n  \n    const eww = useRef(null)\n    const [projection, setProjection] = useState(\"3D\")\n    // const [aoi, setAoi] = useState({type: null, value: null})\n    const [aoi, setAoi] = useState('')\n    const [geojsonlayers, setGeojsonlayers] = useState([])\n    const [ewwstate, setEwwState] = useState({latitude: clat, longitude: clon, altitude: alt, aoi:''})\n\n    //toggle atmosphere\n    function toggleAtmosphere() {\n        console.log('toggleAtmosphere')\n        eww.current.layers[3].enabled = !eww.current.layers[3].enabled\n        eww.current.redraw();\n    }\n\n    //toggle starField\n    function toggleStarfield() {\n        console.log('toggleStarfield')\n        eww.current.layers[2].enabled = !eww.current.layers[2].enabled\n        eww.current.redraw();\n    }\n\n    //toggle name overlay\n    function toggleNames() {\n        console.log('toggleNames')\n        eww.current.layers[1].enabled = !eww.current.layers[1].enabled\n        eww.current.redraw();\n    }\n\n    function  getViewPolygon () {\n        let view = eww.current.viewport\n        let area = {}\n        let polygon = ''\n        // console.log('view: ' + view.x + '/' + view.y + '/' + view.width + '/' + view.height);\n\n        let bl ;\n        try { \n            bl =  eww.current.pickTerrain(eww.current.canvasCoordinates(view.x, view.y + view.height)).terrainObject().position\n            bl.latitude = Math.round(bl.latitude * 10000)/10000\n            bl.longitude = Math.round(bl.longitude * 10000)/10000\n        }\n        catch(err) {bl = null;}\n\n\n        let tr ;\n        try { \n            tr = eww.current.pickTerrain(eww.current.canvasCoordinates(view.x + view.width, view.y)).terrainObject().position\n            tr.latitude = Math.round(tr.latitude * 10000)/10000\n            tr.longitude = Math.round(tr.longitude * 10000)/10000\n        }\n        catch(err) {tr = null;}\n\n        //console.log(bl.longitude+'/'+bl.latitude+'/'+tr.longitude+'/'+tr.latitude);\n        if(bl == null || tr == null )  {\n            //   area = {type:\"bbox\", value:\"-180,-90,180,90\"};\n              polygon = ''\n        } else {\n              area = {\n                    type: \"bbox\",\n                    value:\n                           bl.longitude +','\n                          + bl.latitude +','\n                          +tr.longitude +','\n                          +tr.latitude\n              };\n\n              polygon = 'POLYGON((' \n                + bl.longitude + ' ' + bl.latitude + ',' \n                + tr.longitude + ' ' + bl.latitude + ',' \n                + tr.longitude + ' ' + tr.latitude + ',' \n                + bl.longitude + ' ' + tr.latitude + ',' \n                + bl.longitude + ' ' + bl.latitude + '))' \n        }\n        return polygon\n\n    }\n\n    function addGeojson(url,replace) {\n\n        console.log('replace: '+replace)\n        function shapeConfigurationCallback(geometry, properties) {\n            let configuration = {};\n            configuration.userProperties = properties\n    \n            let placemarkAttributes = new WorldWind.PlacemarkAttributes(null);\n            placemarkAttributes.imageScale = 10;\n            placemarkAttributes.imageColor = new WorldWind.Color(0, 1, 1, 0.2);\n            placemarkAttributes.labelAttributes.offset = new WorldWind.Offset(\n                WorldWind.OFFSET_FRACTION, 5,\n                WorldWind.OFFSET_FRACTION, 5);\n            //placemarkAttributes.imageSource = whiteDot;\n    \n    \n            if (geometry.isPointType() || geometry.isMultiPointType()) {\n                configuration.attributes = new WorldWind.PlacemarkAttributes(placemarkAttributes);\n                \n            } else if (geometry.isLineStringType() || geometry.isMultiLineStringType()) {\n                configuration.attributes.drawOutline = true;\n                configuration.attributes.outlineColor = new WorldWind.Color(\n                    0.1 * configuration.attributes.interiorColor.red,\n                    0.3 * configuration.attributes.interiorColor.green,\n                    0.7 * configuration.attributes.interiorColor.blue,\n                    1\n                );\n                configuration.attributes.outlineWidth = 1;\n            } else if (geometry.isPolygonType() || geometry.isMultiPolygonType()) {\n                configuration.attributes = new WorldWind.ShapeAttributes(null);\n                configuration.attributes.interiorColor = new WorldWind.Color(1, 0, 0, 0.2);\n                configuration.attributes.outlineColor = new WorldWind.Color(1, 0, 0, 0.3);\n\n                configuration.highlightAttributes = new WorldWind.ShapeAttributes(configuration.attributes);\n                configuration.highlightAttributes.outlineColor = new WorldWind.Color(1, 0, 0, 0.4);\n                configuration.highlightAttributes.interiorColor = new WorldWind.Color(1, 0, 0, 0.6);\n                // configuration.attributes.outlineWidth = 0.3;\n\n                configuration.attributes.applyLighting = true;\n\n            }\n    \n            //console.log(configuration.attributes);\n            return configuration;\n        }\n\n        \n        function loadCompleteCallback() {\n            console.log(renderableLayer)\n            setGeojsonlayers((geojsonlayers)=>[...geojsonlayers,renderableLayer])\n            eww.current.redraw();\n        }\n    \n    \n        let renderableLayer = new WorldWind.RenderableLayer(url.properties.updated+Math.ceil(Math.random() * 10000))\n        // if (replace) removeGeoJson()\n        eww.current.addLayer(renderableLayer);\n        // setGeojsonlayers((geojsonlayers)=>[...geojsonlayers,renderableLayer])\n        // setGeojsonlayers((geojsonlayers)=>[...geojsonlayers,renderableLayer])\n        // setGeojsonlayers(eww.current.layers)\n        let geoJson = new WorldWind.GeoJSONParser(url);\n        geoJson.load(loadCompleteCallback, shapeConfigurationCallback, renderableLayer);\n        // setGeojsonlayers((geojsonlayers)=>[...geojsonlayers,renderableLayer])        \n    }\n\n    function removeGeojson() {\n        for(let i=0;i<geojsonlayers.length;i++) {\n          eww.current.removeLayer(geojsonlayers[i])\n        //   console.log('removing json layers: ')\n        //   console.log(geojsonlayers[i])\n        }\n        setGeojsonlayers([])\n        // console.log(geojsonlayers)\n        eww.current.redraw();\n      }\n\n    function addWMS(config) {\n        let layer =  new WorldWind.WmsLayer(config, \"\")\n        // https://view.onda-dias.eu/instance00/ows?&service=WMS&request=GetMap&layers=S1B_IW_GRDH_1SDV_20190520T050758_20190520T050823_016323_01EB81_6EB6&styles=&format=image%2Fpng&transparent=true&version=1.1.1&width=256&height=256&srs=EPSG%3A3857&bbox=2035059.441064533,7044436.526761846,2191602.4749925737,7200979.560689885\n    }\n\n\n    function setTime(epoch) {\n        eww.current.layers[2].time = eww.current.layers[3].time = new Date(epoch)\n        eww.current.redraw();\n        \n\n     }\n\n\n    function toggleProjection() {\n        setProjection( prevProj => {\n          console.log(\"prevProjection: \"+prevProj)\n          let supportedProjections = [ \"3D\", \"Equirectangular\", \"Mercator\"];\n          let newProj = (supportedProjections.indexOf(prevProj) + 1)%supportedProjections.length\n          console.log(\"newProjection: \"+supportedProjections[newProj])\n          switch (supportedProjections[newProj]) {\n            case \"3D\":\n                eww.current.globe.projection = new WorldWind.ProjectionWgs84();\n                break;\n            case \"Equirectangular\":\n                eww.current.globe.projection = new WorldWind.ProjectionEquirectangular();\n                break;\n            case \"Mercator\":\n                eww.current.globe.projection = new WorldWind.ProjectionMercator();\n                break;\n            case \"North Polar\":\n                eww.current.globe.projection = new WorldWind.ProjectionPolarEquidistant(\"North\");\n                break;\n            case \"South Polar\":\n                eww.current.globe.projection = new WorldWind.ProjectionPolarEquidistant(\"South\");\n                break;\n            default:\n            eww.current.globe.projection = new WorldWind.ProjectionWgs84();\n            }\n          eww.current.redraw();\n          return supportedProjections[newProj]\n          })      \n      }\n\n    // callback from eww   \n    const setGlobeStates = () => {\n        let lo = eww.current.navigator.lookAtLocation.longitude\n        let la = eww.current.navigator.lookAtLocation.latitude\n        let al = eww.current.navigator.range\n        let vp = (al < 2000000?getViewPolygon():'')\n        // console.log(al + 'km : '+ vp)\n\n        // let newewwstate = {...ewwstate, longitude:lo, \n        //     latitude: la,\n        //     altitude: al, \n        //     viewpolygon: vp}\n        // setEwwState(newewwstate)\n\n        setEwwState((ewwstate) => { return {...ewwstate, longitude:lo, latitude: la, altitude: al, viewpolygon: vp}}) \n\n        // setEwwState({\n        //     longitude:lo, \n        //     latitude: la,\n        //     altitude: al, \n        //     viewpolygon: vp,\n        //     aoi: ai\n            \n        // })\n    }\n\n    // handler for tap/click\n\n    const handleClick  = (recognizer) => {\n        console.log('click')\n        let x = recognizer.clientX\n        let y = recognizer.clientY\n        // Perform the pick. Must first convert from window coordinates to canvas coordinates, which are\n        // relative to the upper left corner of the canvas rather than the upper left corner of the page.\n        let pickList = eww.current.pick(eww.current.canvasCoordinates(x, y));\n        console.log(pickList)\n        if (pickList.terrainObject()) {\n            // position = pickList.terrainObject().position;\n            // store list of selected footprints in a string for later comparison\n            let pickedItems = []\n            for (let i = 0; i < pickList.objects.length; i++) {\n                if (pickList.objects[i].userObject instanceof WorldWind.SurfaceShape) {\n                    pickedItems.push(pickList.objects[i].userObject.userProperties.name) \n                    pickList.objects[i].userObject.highlighted = !pickList.objects[i].userObject.highlighted\n                }\n            }\n            console.log(pickedItems)\n            eww.current.redraw()\n        } else {\n            console.log('No position !');\n            return;\n        }\n\n\n    }\n\n    const handleDoubleClick  = (recognizer) => {\n        console.log('double click')\n        let x = recognizer.clientX\n        let y = recognizer.clientY\n        let pickList = eww.current.pick(eww.current.canvasCoordinates(x, y));\n\n        let position;\n  \n  \n        // Get coordinates of clicked point and list of selected footprints. Do nothing if click done outside the globe.\n        if (pickList.terrainObject()) {\n            position = pickList.terrainObject().position;\n            // eww.current.goTo(new WorldWind.Location(position.latitude, position.longitude));\n\n            let point = \"POINT(\"+position.longitude+' '+position.latitude+\")\"\n            \n            setEwwState((ewwstate) => { return {...ewwstate, aoi: point}}) \n    \n        } else {\n              console.log('No position !');\n              setEwwState((ewwstate) => { return {...ewwstate, aoi: ''}})\n        }\n  \n        \n\n       \n    }\n\n    // useEffect(() => {\n    //     console.log(\"useEffect aoi: \" + aoi)\n    //     let newewwstate = {...ewwstate, aoi: aoi}\n    //     setEwwState(newewwstate)\n    // }, [aoi]); \n\n    // didMount effect\n    useEffect(() => {\n        console.log(\"useEffect (mount) in Eww  star/atmo: \"+ starfield+'/'+atmosphere)\n        // eww.current = new WorldWind.WorldWindow(id, elevationModel);\n        eww.current = new WorldWind.WorldWindow(id);\n        eww.current.redrawCallbacks.push(setGlobeStates)\n\n        // Define a min/max altitude limit\n        WorldWind.BasicWorldWindowController.prototype.applyLimits = function () {\n            eww.current.navigator.range = WorldWind.WWMath.clamp(eww.current.navigator.range, 2000, 300000000);\n        }\n\n        // define click/tap recognisers\n        // let tapRecognizer = new WorldWind.TapRecognizer(eww.current, handleClick);\n        // tapRecognizer.numberOfTaps = 1;\n        // let doubleTapRecognizer = new WorldWind.TapRecognizer(eww.current, handleDoubleClick);\n        // doubleTapRecognizer.numberOfTaps = 2;\n        // doubleTapRecognizer.recognizeSimultaneouslyWith(tapRecognizer);\n\n        let clickRecognizer = new WorldWind.ClickRecognizer(eww.current, handleClick);\n        clickRecognizer.numberOfClicks = 1;\n        let doubleClickRecognizer = new WorldWind.ClickRecognizer(eww.current, handleDoubleClick);\n        doubleClickRecognizer.numberOfClicks = 2;\n        doubleClickRecognizer.recognizeSimultaneouslyWith(clickRecognizer);\n        doubleClickRecognizer.maxClickInterval = 200;\n\n\n        //setWwd(eww);\n        let wmsConfigBg = {\n            service: \"https://tiles.maps.eox.at/wms\",\n            layerNames: \"s2cloudless-2018\",\n            numLevels: 19,\n            format: \"image/png\",\n            size: 256,\n            sector: WorldWind.Sector.FULL_SPHERE,\n            levelZeroDelta: new WorldWind.Location(90, 90)\n        }\n    \n        let wmsConfigNames = {\n            service: \"https://tiles.maps.eox.at/wms\",\n            layerNames: \"overlay_bright\",\n            numLevels: 19,\n            format: \"image/png\",\n            size: 256,\n            sector: WorldWind.Sector.FULL_SPHERE,\n            levelZeroDelta: new WorldWind.Location(90, 90)\n        }\n        WorldWind.configuration.baseUrl = WorldWind.configuration.baseUrl.slice(0,-3)\n        let starFieldLayer = new WorldWind.StarFieldLayer();\n        let atmosphereLayer = new WorldWind.AtmosphereLayer('images/BlackMarble_2016_01deg.jpg');\n        //atmosphereLayer.minActiveAltitude = 5000000\n    \n        let layers = [\n            { layer: new WorldWind.WmsLayer(wmsConfigBg, \"\"), enabled: true },\n            { layer: new WorldWind.WmsLayer(wmsConfigNames, \"\"), enabled: names },\n            { layer: starFieldLayer, enabled: starfield },\n            { layer: atmosphereLayer, enabled: atmosphere }\n        ];\n    \n        for (let l = 0; l < layers.length; l++) {\n            layers[l].layer.enabled = layers[l].enabled;\n            eww.current.addLayer(layers[l].layer);\n        }\n        //let date = new Date();\n        starFieldLayer.time = new Date();\n        atmosphereLayer.time = new Date();\n        setTimeout(() => {\n            eww.current.goToAnimator.travelTime = 1000;\n            eww.current.goTo(new WorldWind.Position(clat, clon, alt));\n            eww.current.redraw();\n            }, 2000)\n    \n        eww.current.redraw();\n        eww.current.deepPicking = true;\n    }, []); // effect runs only once\n        \n  \n  return { ewwstate, removeGeojson, addGeojson, addWMS, toggleStarfield, toggleAtmosphere, setTime, toggleProjection, toggleNames };\n}\n","import wellknown from 'wellknown';\n\nexport default function dhusToGeojson(response) {\n\n    \n    function mapFromHubOpenSearch(item) {    \n        function reshuffle(array) {\n            let json = {};\n            for(let i=0; i < array.length; i++) {\n                json[array[i].name] =  array[i].content;\n            }\n            return json;\n        }\n\n        try {\n            let hubItem = {};\n            if(item.date) Object.assign(hubItem,reshuffle(item.date));\n            if(item.int) Object.assign(hubItem,reshuffle(item.int));\n            if(item.double) Object.assign(hubItem,reshuffle(item.double));\n            if(item.str) Object.assign(hubItem,reshuffle(item.str));\n\n\n            var sizeArray = hubItem.size.split(\" \");\n            var sizeInBytes;\n            switch (sizeArray[1]) {\n                case \"B\":\n                    sizeInBytes = Math.round(parseFloat(sizeArray[0]));\n                    break;\n                case \"MB\":\n                    sizeInBytes = Math.round(parseFloat(sizeArray[0])*1024);\n                    break;\n                case \"GB\":\n                    sizeInBytes = Math.round(parseFloat(sizeArray[0])*1024*1024);\n                    break;\n                case \"TB\":\n                    sizeInBytes = Math.round(parseFloat(sizeArray[0])*1024*1024*1024);\n                    break;\n                default: \n                    sizeInBytes = Math.round(parseFloat(sizeArray[0]));\n                    break;\n\n            }\n            \n\n            var newItem = {\n                id: item.title,\n                geometry: wellknown(hubItem.footprint),\n                type: \"Feature\",\n                properties: {\n                    updated: new Date(hubItem.ingestiondate),\n                    title: item.title,\n                    name: item.title,\n                    date: hubItem.beginposition  +'/'+  hubItem.endposition,\n                    links: {\n                        data: [{\n                            href: item.link[0].href,\n                        }]\n                    },\n                    earthObservation: {\n                        parentIdentifier: \"\",\n                        status: \"ARCHIVED\",\n                        acquisitionInformation: [{\n                            platform: {\n                                platformShortName: hubItem.platformname,\n                                platformSerialIdentifier: hubItem.platformserialidentifier\n                            },\n                            sensor: {\n                                instrument: hubItem.instrumentshortname,\n                                operationalMode: hubItem.sensoroperationalmode\n                            },\n                            acquisitionParameter: {\n                                acquisitionStartTime: new Date(hubItem.beginposition),\n                                acquisitionStopTime: new Date(hubItem.endposition),\n                                relativePassNumber: parseInt(hubItem.relativeorbitnumber),\n                                orbitNumber: parseInt(hubItem.orbitnumber),\n                                startTimeFromAscendingNode: null,\n                                stopTimeFromAscendingNode: null,\n                                orbitDirection: hubItem.orbitdirection\n\n                            }\n                        }],\n                        productInformation: {\n                            productType: hubItem.producttype,\n                            //timeliness: indexes[\"product\"][\"Timeliness Category\"],\n                            size: sizeInBytes\n                        }\n                    }\n                }\n            }\n        \n            return newItem;\n        } catch (err) {\n            console.log(\"error parsing item from dhus: \"+err.message);\n            return {};\n        }\n    }\n\n    let features = [];\n    try {\n        if( response.feed.entry ) {\n            if(Array.isArray(response.feed.entry)) {\n                console.log('entry is an  array')\n                features = response.feed.entry.map( item =>  mapFromHubOpenSearch(item)).filter(item => item !== {});\n            } else {\n                features = [mapFromHubOpenSearch(response.feed.entry)]\n            }\n                \n        } else {\n            features = []\n        }\n        \n    } catch (err) {\n        console.log(response);\n        console.log(\"Error: \");\n        console.log(err);\n        features = []\n    }\n    //console.log(JSON.stringify(features));\n    let geojson = {   \n            type: \"FeatureCollection\",\n            id: \"search\",\n            properties: {\n                totalResults: response.feed[\"opensearch:totalResults\"],\n                startIndex: (response.feed[\"opensearch:startIndex\"])?response.feed[\"opensearch:startIndex\"]:1,\n                itemsPerPage: response.feed[\"opensearch:itemsPerPage\"],\n                title: \"DHuS search response\",\n                updated: new Date()\n            },\n            features: features\n        };\n\n    return geojson\n\n}\n","import React, { useGlobal, useState, useEffect } from \"reactn\"\nimport { useEww } from \"./useEww\"\n// import { useGlobal } from 'reactn'\nimport { useHotkeys } from 'react-hotkeys-hook'\nimport useDatahub from \"./useDatahub\"\n\n\nexport default function Eww({ id, clat, clon, alt, starfield, atmosphere, names }) {\n\nconst {\n    ewwstate,\n    addGeojson,\n    removeGeojson,\n    addWMS,\n    toggleProjection,\n    toggleAtmosphere,\n    toggleStarfield,\n    toggleNames,\n    setTime\n} = useEww({\n    id: id,\n    clat: clat,\n    clon: clon,\n    alt: alt,\n    starfield: starfield,\n    atmosphere: atmosphere,\n    names: names\n})\n\n  // toogle projection\n  useHotkeys(\"p\",toggleProjection)  \n  useHotkeys(\"a\",toggleAtmosphere)  \n  useHotkeys(\"s\",toggleStarfield)  \n  useHotkeys(\"n\",toggleNames)  \n  useHotkeys(\"c\",removeGeojson)\n  \n\n  const { geojsonResults, loading} = useDatahub();\n  const [ searchdate,  ] = useGlobal('searchdate');\n  const [ mission,  ] = useGlobal('mission');\n  const [ appdate,  ] = useGlobal('appdate')\n  const [ appstarfield,  setAppstarfield] = useGlobal('appstarfield')\n  const [ appatmosphere,  setAppatmosphere] = useGlobal('appatmosphere')\n  const [ appnames,  setAppnames] = useGlobal('appnames')\n  const [ , setSearching ] = useGlobal('searching')\n  const [ , setAppaltitude ] = useGlobal('appaltitude')\n  const [ , setApplatitude ] = useGlobal('applatitude')\n  const [ , setApplongitude ] = useGlobal('applongitude')\n  const [ apppolygon, setApppolygon ] = useGlobal('apppolygon')\n  const [ replace, setReplace ] = useState(true)\n\n  useHotkeys(\"z\",()=>setReplace(state=>!state))\n\n  useEffect(() => {\n    if(geojsonResults) {\n      console.log('datahub in use')\n        console.log(geojsonResults)\n        try {\n          addGeojson(geojsonResults,replace)\n        } catch (err) {\n          console.log(\"error on geojson parsing\")\n          console.log(err)\n        }\n      }\n      \n  },[geojsonResults]);\n\n  useEffect(() => {\n    console.log('reacting to searchdate or mission')\n    if(replace) removeGeojson()\n  },[searchdate,mission,apppolygon]);\n\n  useEffect(() => {\n    console.log('atmosphere')\n    toggleAtmosphere(appatmosphere)\n  },[appatmosphere])\n\n  useEffect(() => {\n    toggleStarfield(appstarfield)\n  },[appstarfield])\n  useEffect(() => {\n    toggleNames(appnames)\n  },[appnames])\n\n\n  useEffect(() => {\n    setSearching(loading)\n  },[loading]);\n\n  useEffect(() => {\n    setAppaltitude(ewwstate.altitude)\n    setApplongitude(ewwstate.longitude)\n    setApplatitude(ewwstate.latitude)\n  },[ewwstate.longitude,ewwstate.latitude, ewwstate.altitude ]);\n\n  useEffect(() => {\n    // uncomment to search via polygon at low lats\n    // setApppolygon(ewwstate.viewpolygon)\n\n  },[ewwstate.viewpolygon ]);\n\n  useEffect(() => {\n    setApppolygon(ewwstate.aoi)\n    // setApppolygon('')\n  },[ewwstate.aoi]);\n\n\n\n  useEffect(() => {\n    setTime(appdate)\n  },[appdate]);\n\n  useEffect(() => {\n    setAppatmosphere(atmosphere)\n    setAppstarfield(starfield)\n    setAppnames(names)\n  },[]);\n\n\nlet globeStyle = {\n    background: 'inherit',\n    position: \"fixed\",\n    width: 'inherit',\n    height: 'inherit'\n  };\n\n\nreturn (\n    <canvas id={id} style={globeStyle} />\n)\n\n}\n","import { useState, useEffect } from \"react\";\nimport dhusToGeojson from \"./dhusToGeojson\";\nimport { useGlobal } from 'reactn';\nimport dateFormat from \"dateformat\"\n\n\n\nexport default function useDatahub() {\n\n    let searchURLs = []\n    //http://131.176.236.55/dhus/\n    //https://scihub.copernicus.eu/apihub/search?\n\n    const buildUrl = ({code, polygon, date, startindex}) => {\n\n         console.log('Search param: '+code+','+polygon+','+date+','+startindex)\n\n        let collections = [\n            {\n                code: 'S1',\n                templateUrl: 'https://131.176.236.55/dhus/search?q=( footprint:\"Intersects({polygon})\" AND beginposition:[{start} TO {end}] AND platformname:Sentinel-1 AND producttype:GRD)&start={startindex}&rows=100&sortedby=beginposition&order=desc&format=json',\n                name: 'Sentinel-1 A/B GRD' ,\n                dateOff: ' beginposition:[{start} TO {end}] AND',\n                areaOff:  ' footprint:\"Intersects({polygon})\" AND'\n            },\n            {\n                code: 'S2',\n                templateUrl: 'https://131.176.236.55/dhus/search?q=( footprint:\"Intersects({polygon})\" AND beginposition:[{start} TO {end}] AND platformname:Sentinel-2 AND producttype:S2MSI1C)&start={startindex}&rows=100&sortedby=beginposition&order=desc&format=json',\n                name: 'Sentinel-2 A/B Level 1C',\n                dateOff: ' beginposition:[{start} TO {end}] AND',\n                areaOff:  ' footprint:\"Intersects({polygon})\" AND'\n            },\n            {\n                code: 'S3',\n                templateUrl: 'https://131.176.236.55/dhus/search?q=( footprint:\"Intersects({polygon})\" AND beginposition:[{start} TO {end}] AND platformname:Sentinel-3 AND (producttype:OL_1_ERR___ OR producttype:SL_1_RBT___ OR producttype:SR_1_SRA___))&start={startindex}&rows=100&sortedby=beginposition&order=desc&format=json',\n                name: 'Sentinel-3 A/B, OLCI/SLSTR/SRAL' ,\n                dateOff: ' beginposition:[{start} TO {end}] AND',\n                areaOff:  ' footprint:\"Intersects({polygon})\" AND'\n            },\n            {\n                code: 'S5P',\n                templateUrl: 'https://131.176.236.55/dhus/search?q=( footprint:\"Intersects({polygon})\" AND beginposition:[{start} TO {end}] AND platformname:Sentinel-5 precursor AND (producttype:L1B_RA_BD1 OR (producttype:L2__NO2___ AND processingmode:Near real time)))&start={startindex}&rows=100&sortedby=beginposition&order=desc&format=json',\n                name: 'Sentinel-1 A/B',\n                dateOff: ' beginposition:[{start} TO {end}] AND',\n                areaOff:  ' footprint:\"Intersects({polygon})\" AND'\n            },\n            {\n                code: 'ENVISAT',\n                templateUrl: 'https://eocat.esa.int/ngeo/catalogue/FEDEO-ENVISAT.ASA.IMP_1P/search?start={start}&stop={end}&format=json&count=50&startIndex={startindex}',\n                name: 'Sentinel-1 A/B',\n                dateOff: ' beginposition:[{start} TO {end}]',\n                areaOff:  ' footprint:\"Intersects({polygon})\"'\n            }\n\n        ]\n\n        const getTargetCollection= (mission) => {\n            return collections.find( (collection) => {return collection.code == mission} )\n        }\n        // console.log(getTargetCollection(mission))\n        let target = getTargetCollection(code)\n        let newurl = target.templateUrl\n        let start, end, windowSize\n        \n\n        if(polygon.length > 0) {\n            windowSize = 1000 * 60 * 60 * 24 * 30 // 1 week time window\n            start = dateFormat(new Date(date - windowSize/2),'isoUtcDateTime')\n            end =  dateFormat(new Date(date + windowSize/2),'isoUtcDateTime')\n            console.log('|'+polygon.length+'|')\n            newurl = newurl.replace(\"{polygon}\", polygon)\n            // newurl = newurl.replace(target.dateOff, '')\n            newurl = newurl.replace(\"{start}\", start)\n            newurl = newurl.replace(\"{end}\", end)\n\n        } else {\n            windowSize = 1000 * 60 * 60 * 3  // 3 hours time window\n            start = dateFormat(new Date(date - windowSize/2),'isoUtcDateTime')\n            end =  dateFormat(new Date(date + windowSize/2),'isoUtcDateTime')\n\n            newurl = newurl.replace(target.areaOff, '')\n            newurl = newurl.replace(\"{start}\", start)\n            newurl = newurl.replace(\"{end}\", end)\n        }\n        \n        newurl = newurl.replace(\"{startindex}\",startindex)\n\n\n        return newurl\n    }\n\n    \n    // search time window size in ms\n    const windowSize = 1000 * 60 * 60 * 3\n    const MAX_ITEMS = 2200\n\n    const [geojsonResults, setGeojsonResults] = useState(null)\n    const [loading, setLoading] = useState(false)\n    const [isfirstpage, setIsfirstPage] = useState(true)\n    \n    const [ searchdate,  ] = useGlobal('searchdate');\n    const [ mission,  ] = useGlobal('mission');\n    const [ apppolygon,  ] = useGlobal('apppolygon');\n\n    const [ searchUrl, setSearchurl  ] = useState(null);\n    // const [ polygon, setPolygon  ] = useState('');\n\n    const [ pagination, setPagination ] = useState(null);\n\n//{totalresults,startindex}\n    useEffect(() => {\n        const fetchURL = async (url) => {\n            // setLoading(true)\n            console.log('Search: '+ url)\n            try {\n                const response = await fetch(url, {mode: 'cors', credentials: 'include'})\n                const json = await response.json()\n                const geoJson = (mission === 'ENVISAT')? json : dhusToGeojson(json)\n                // console.log('totalResults: ' + geoJson.properties.totalResults)\n                console.log(geoJson.properties)\n                setPagination( \n                    {\n                    totalresults: Number(geoJson.properties.totalResults) ,\n                    startindex:  Number(geoJson.properties.startIndex), \n                    itemsperpage:  Number(geoJson.properties.itemsPerPage), \n                    })\n                if(Number(geoJson.properties.totalResults>0)) setGeojsonResults(geoJson) \n                setIsfirstPage((pagination.startindex + pagination.itemsperpage < pagination.totalresults)?true:false)\n                console.log('first?: ' + (pagination.startindex + pagination.itemsperpage < pagination.totalresults)?'true':'false')\n                // setLoading(false);   \n            } catch {\n                console.log(\"Didn't recieve a json !\")\n                //console.log(response)\n                setLoading(false);\n            }\n            \n        }\n        if(searchUrl) fetchURL(searchUrl)\n    }, [searchUrl]);\n    \n    useEffect(() => {\n        if(pagination) {\n            if(pagination.startindex + pagination.itemsperpage < Math.min(pagination.totalresults,MAX_ITEMS) ) {\n                // let url = searchURLs[mission]\n                console.log(\"There's More...\")\n                // setIsfirstPage(false)\n                try {\n                    let url = buildUrl({\n                        code: mission,\n                        polygon: apppolygon, \n                        date: searchdate,\n                        // start: dateFormat(new Date(searchdate - windowSize/2),'isoUtcDateTime'), \n                        // end: dateFormat(new Date(searchdate + windowSize/2),'isoUtcDateTime'), \n                        startindex: pagination.startindex + pagination.itemsperpage\n                    })\n\n                    setSearchurl(url)\n\n                \n            \n                } catch {\n                    console.log('Not a JULIAN date !')\n                    setLoading(false);\n                }\n            } else {\n                setLoading(false);\n            }\n    \n        }\n    }, [pagination]);\n\n    useEffect(() => {\n        console.log('DataHub ready. '+mission)\n    }, []);\n\n    useEffect(() => {\n        console.log('apppolygon: '+apppolygon)\n    }, [apppolygon]);\n\n    useEffect(() => {\n        console.log('mission '+mission)\n        console.log('searchdate '+searchdate)\n\n        if(mission && searchdate) {\n            \n            try {\n                let url = buildUrl({\n                    code: mission,\n                    polygon: apppolygon, \n                    date: searchdate,\n                    // start: dateFormat(new Date(searchdate - windowSize/2),'isoUtcDateTime'), \n                    // end: dateFormat(new Date(searchdate + windowSize/2),'isoUtcDateTime'), \n                    startindex: 0\n                })\n                setLoading(true)\n                // setIsfirstPage(true)\n                setSearchurl(url)\n        \n            } catch {\n                console.log('Not a JULIAN date !')\n            }\n        }\n        \n    }, [searchdate, mission, apppolygon]);\n\n    return {geojsonResults, loading, isfirstpage}\n}\n","import React, { useEffect } from \"react\";\nimport { useGlobal } from 'reactn';\nimport { useHotkeys } from 'react-hotkeys-hook';\nimport './missionselector.css'\n\n\n// should use a prop\n\nfunction MissionSelector() {\n\n\n    const [ mission, setMission ] = useGlobal('mission');\n    useHotkeys(\"1\",()=>{setMission('S1')}) \n    useHotkeys(\"2\",()=>{setMission('S2')}) \n    useHotkeys(\"3\",()=>{setMission('S3')}) \n    useHotkeys(\"5\",()=>{setMission('S5P')}) \n    useHotkeys(\"6\",()=>{setMission('ENVISAT')}) \n\n    // useEffect(() => {\n    //     console.log('Mission changed to: '+ mission)\n    // }, [mission]);\n    \n    \n    //console.log('mission rendering')\n    return (\n        <div className='MissionSelector'>\n            <div className='Circle'><img className='MissionIcon' draggable=\"false\" src='./images/s1_black.png' alt='' onClick={() => setMission('S1')} /></div>\n            <div className='Circle'><img className='MissionIcon' draggable=\"false\" src='./images/s2_black.png' alt='' onClick={() => setMission('S2')} /></div>\n            <div className='Circle'><img className='MissionIcon' draggable=\"false\" src='./images/s3_black.png' alt='' onClick={() => setMission('S3')} /></div>\n            <div className='Circle'><img className='MissionIcon' draggable=\"false\" src='./images/s5p_black.png' alt='' onClick={() => setMission('S5P')} /></div>\n           \n            \n        </div>\n    )\n}\n\nexport default MissionSelector;\n","import React, { useEffect, useGlobal } from \"reactn\";\n// import { useGlobal } from 'reactn';\nimport { useHotkeys } from 'react-hotkeys-hook';\nimport './mapselector.css'\n\n\n// should use a prop\n\nfunction MapSelector() {\n\n\n    const [ appatmosphere, setAppatmosphere ] = useGlobal('appatmosphere');\n    const [ appstarfield, setAppstarfield ] = useGlobal('appstarfield');\n    const [ appnames, setAppnames ] = useGlobal('appnames');\n    // useHotkeys(\"1\",()=>{setMission('S1')}) \n    // useHotkeys(\"2\",()=>{setMission('S2')}) \n    // useHotkeys(\"3\",()=>{setMission('S3')}) \n    // useHotkeys(\"5\",()=>{setMission('S5P')}) \n    // useHotkeys(\"6\",()=>{setMission('ENVISAT')}) \n\n    // useEffect(() => {\n    //     console.log('Mission changed to: '+ mission)\n    // }, [mission]);\n    \n    \n    //console.log('mission rendering')\n    return (\n        <div className='MapSelector'>\n            <div className='CircleButton'><img className='MapIcon' draggable=\"false\"src='./images/atmosphere.png' alt='' onClick={() => setAppatmosphere(!appatmosphere)} /></div>\n            <div className='CircleButton'><img className='MapIcon' draggable=\"false\"src='./images/starfield.png' alt='' onClick={() => setAppstarfield(!appstarfield)} /></div>\n            <div className='CircleButton'><img className='MapIcon' draggable=\"false\"src='./images/names.png' alt='' onClick={() => setAppnames(!appnames)} /></div>\n           \n        </div>\n    )\n}\n\nexport default MapSelector\n","import React, { useEffect, useState } from \"react\";\nimport { useHotkeys } from 'react-hotkeys-hook';\nimport { useGlobal } from 'reactn'\nimport './stepmask.css'\n\n\n\n\nfunction StepMask() {\n    const [highlight] = useGlobal('highlight')\n    const [ active, setDebug ] = useState(false)\n    useHotkeys(\"m\",()=>{setDebug(active => !active)}) \n\n    useEffect(() => {\n        console.log('Mask Overlay: press m ')\n        console.log('active (use): '+active)\n    }, []);\n\n    useEffect(() => {\n        setDebug((highlight !== 'none') )\n    }, [highlight]);\n\n    console.log('active rendered')\n\n    return (\n        <div className='StepMask' style={{display: (active)?'inline':'none'}}>\n            <div className='DayMask' style={{display: (active)?'inline':'none'}}/>\n            <div className='MonthMask' style={{display: (active)?'inline':'none'}}/>\n            <div className='YearMask' style={{display: (active)?'inline':'none'}}/>\n        \n        </div>\n    )\n}\n\nexport default StepMask\n","import React, { useState, useEffect, useLayoutEffect, useRef } from \"react\"\nimport {useSpring, animated, config} from 'react-spring'\nimport { useGesture } from 'react-use-gesture'\nimport './timeselector.css'\nimport { useGlobal } from 'reactn'\nimport { add, sub, scale } from 'vec-la'\nimport StepMask from './stepmask'\nimport useDebug from './useDebug'\n\n\n// to be split in a controller and a useTouchScale hook () => {<TouchScale>, scaleRenderer, size}\n\n\n\n\nfunction TimeSelector(props)  {\n\n    /// debug snippet\n    // const [debug, setDebug] = useDebug('')    \n    const [ , setDebug ] = useGlobal('debug')\n\n    //console.log(\"Render TimeSelector \")\n    const dayspace = 40\n    const zoomfactor = (props.max-props.min)/(dayspace*(props.max-props.min)/(1000*60*60*24))\n    const min = props.min\n    const max = min +((props.max - props.min) / zoomfactor)\n\n    \n\n    let wid, hei = 0\n    if(props.vertical) {\n        hei = max - min\n        wid = 100\n    } else {\n        wid = max - min\n        hei = 100\n\n    }\n\n\n    const [appdate, setAppdate] = useGlobal('appdate')\n    const [, setSearchdate] = useGlobal('searchdate')\n    const [, setHighlight] = useGlobal('highlight')\n    const [livePosition, setLiveposition] = useState(new Date())\n\n    const [tsactive, setTsactive] = useState(false); \n\n    const [step, setStep] = useState('continuous')\n\n    const myvertical = useRef()\n    myvertical.current = props.vertical\n\n\n    const timecontainer = useRef()\n\n    const [{ xy }, set] = useSpring(() => ({ xy: [0, 0] }))\n\n\n    const bind = useGesture({\n        onDrag: ({  down, delta, distance, velocity, active , direction, wheeling, time, first, last, temp = {\n                                                xy: xy.getValue(), \n                                                deltaOffset: [0, 0], \n                                                deltaCumul: [0, 0],\n                                                lastNewxy: [0, 0],\n                                                lastStep: 1, \n                                                lastIncrement: 0,\n                                                lastDown: false, \n                                                lastTime: time\n                                            }\n                }) => {\n            let springConfigUp = { mass: 1, tension: 200 , friction: 40, precision: 1 }\n            let springConfigDown = { mass: 1, tension: 1200 , friction: 40, precision: 0.01 }\n            let config = {  velocity: scale(direction, velocity), decay: true, precision: 1 }\n\n            velocity = (velocity<.15)?0:velocity\n\n            // if(time - temp.lastTime > 1000) {\n            //     console.log('deltaCumul...')\n            //     console.log(temp.deltaCumul)\n            //     if (temp.deltaCumul < 0.01) {\n            //         console.log('STABLE !!')\n            //     }\n            //     temp.lastTime = time\n            //     temp.deltaCumul = 0\n            // }\n            // temp.deltaCumul += velocity      \n\n            if (!down) setStep(1)\n            \n            // if(down != temp.lastDown) { setTsactive(true)}\n            if(first) { setTsactive(true)}\n            temp.lastDown = down\n            if(myvertical.current) {    \n                //let pos = target.getBoundingClientRect().top\n                let height = timecontainer.current.parentElement.offsetHeight\n\n                //let followDest = (delta[0]<-200)?delta[1]*10+temp.xy[1]:delta[1]+temp.xy[1]\n                let step = 1\n                let div = 1\n                console.log(temp.xy[0])\n                if (delta[0]<-30) {step = (1000 * 60 * 60 * 24)  / zoomfactor; div = 10; }\n                if (delta[0]<-80) {step = (1000 * 60 * 60 * 24 * 30) / zoomfactor; div = 15}\n                if (delta[0]<-160) {step = (1000 * 60 * 60 * 24 * 365) / zoomfactor; div = 30}\n\n                if(step !== temp.lastStep) {\n                    //console.log('Step changed from: '+temp.lastStep+' to: '+ step)\n                    setDebug(['Step changed from: '+temp.lastStep+' to: '+ step, 0])\n                    setStep(step)\n                    temp.deltaOffset = delta\n                    temp.xy = temp.lastNewxy\n                }\n\n                delta = sub(delta,temp.deltaOffset)\n                let deltaFactor = [Math.round(delta[0]/div)*step,Math.round(delta[1]/div)*step]\n                if(down) velocity = 0\n                let newxy = add(scale(deltaFactor,Math.pow(velocity+1,2)), temp.xy)\n\n                if(step !== temp.lastStep) {\n                    temp.xy = newxy\n                    temp.lastStep = step\n                }\n\n                temp.lastNewxy = newxy\n                \n                const setLiveTime = ({ xy }) => { setLiveposition(min+(-xy[1]+height/2)*zoomfactor)}\n                const setFinalTime = ({ xy }) => {   if(!down && !active) {setTsactive(false)}; if(!down) { setSearchdate(min+(-xy[1]+height/2)*zoomfactor) }}  \n\n\n                let minX = timecontainer.current.parentElement.offsetTop + timecontainer.current.parentElement.offsetHeight / 2\n                let maxX = - timecontainer.current.offsetHeight + timecontainer.current.parentElement.offsetHeight / 2\n        \n                newxy[1] = newxy[1]>minX ? minX : newxy[1]\n                newxy[1] = newxy[1]<maxX ? maxX : newxy[1]\n\n                set({  xy: newxy ,   config: down?springConfigDown:springConfigUp, immediate: down, onRest: setFinalTime, onFrame: setLiveTime} )\n\n            } else {    \n            }\n            return temp\n        },\n        onWheel: ({down, delta, wheeling, local, temp= { xy: xy.getValue() }}) => {\n            console.log(local)\n            setDebug([xy.getValue()[0] + '/' + xy.getValue()[1], 1])\n            setTsactive(true)\n            let height = timecontainer.current.parentElement.offsetHeight\n            const setLiveTime = ({ xy }) => { setLiveposition(min+(-xy[1]+height/2)*zoomfactor)}\n            const setFinalTime = ({ xy }) => {   setTsactive(false); if(!wheeling) { setSearchdate(min+(-xy[1]+height/2)*zoomfactor) }}  \n            // let newxy = scale(add(delta,temp.xy), 0.1)\n            let newxy = scale(add(delta,temp.xy), 0.1)\n            //setDebug(newxy)\n            // temp.xy = newxy\n\n            set({  xy: newxy , config: { tension: 1200, friction: 40, precision: 0.01  }, immediate: wheeling, onRest: setFinalTime, onFrame: setLiveTime} )\n            return temp\n        }\n\n    })\n\n    \n\n    const scaleText = () => {\n        \n        let monthcode = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec']\n        let day, month, hour, year = 0\n        let lastday, lastmonth = 0\n        let tics = []\n        const dayclass = (!props.vertical)?'DayTic':'DayTic-v'\n        const monthclass = (!props.vertical)?'MonthTic':'MonthTic-v'\n        const yearclass = (!props.vertical)?'YearTic':'YearTic-v'\n        \n        \n        for (let i=props.min;i<=props.max;i+=3600000) {\n            day = (new Date(i)).getUTCDate()\n            month = monthcode[(new Date(i)).getUTCMonth()]\n            hour = (new Date(i)).getUTCHours()\n            year = (new Date(i)).getUTCFullYear()\n            if(day !== lastday) tics.push({class:dayclass, pos: (i-props.min)/zoomfactor, label: day})\n            if(month !== lastmonth ) {\n                tics.push({class:monthclass, pos: (i-props.min)/zoomfactor, label: month})\n                tics.push({class:yearclass, pos: (i-props.min)/zoomfactor, label: year})\n            }\n            //if(year != lastyear) tics.push({class:'YearTic', pos: (i-props.min)/zoomfactor, label: year})\n            //if(hour != lasthour) tics.push({class:'HourTic', pos: (i-props.min)/zoomfactor, label: '.'})\n            lastday = day\n            lastmonth = month\n        }\n\n            return tics.map(item => (            <div className={item.class} key={item.class+item.pos} style={(!props.vertical)?{left:item.pos}:{top:item.pos}}>{item.label}</div>))\n    }\n\n    const [timescale, setTimescale] = useState('')    \n    //const [vertical, setVertical] = useState(props.vertical)    \n    useLayoutEffect(() => {\n        //console.log(\"useEffect (livePosition) in TimeSelector: \"+livePosition)\n        setTimescale(scaleText(props.vertical))\n    \n    },[props.vertical])\n\n\n    \n\n\n    useLayoutEffect(() => {\n        // if no gesture (touch, mouse) is ongoing, the time selector follows the global appdate\n        let offset =0\n        if(!tsactive) {\n            if(props.vertical) {\n                offset = ((min - appdate)/zoomfactor)+timecontainer.current.parentElement.offsetHeight/2\n                set({ xy: [0,offset], config: { tension: 1200, friction: 40 }, onFrame: null, onRest: null }  )\n            } else {\n                offset = ((min - appdate)/zoomfactor)+timecontainer.current.parentElement.offsetWidth/2\n                set({ xy: [offset,0], config: { tension: 1200, friction: 40 }, onFrame: null, onRest: null }  )\n\n            }           \n        }\n    },[appdate,timescale])  \n\n    useEffect(() => {\n        setAppdate(livePosition)\n    },[livePosition])\n\n\n\n    useEffect(() => {\n        // console.log('Step changed to: ' + step)\n        switch(step) {\n            case 40:\n                setHighlight(\"day\")\n                break;\n            case 1200:\n                setHighlight(\"month\")\n                break;\n            case 14600:\n                setHighlight(\"year\")\n                break;\n            default:\n                setHighlight(\"none\")\n        }\n    },[step])\n\n\n    useLayoutEffect(() => {\n        console.log(\"zoom changed to: \"+props.zoom)\n    },[props.zoom])\n\n    return (\n        <div className={props.vertical?\"Mask-v\":\"Mask\"} >\n            \n            <div className=\"TriangleContainer\" >\n                <svg height=\"40\" width=\"20\" className=\"Triangle\">\n                    <polygon points=\"20,5 20,35 12,20\" />   \n                </svg> \n            </div>        \n            <div className=\"TimeContainer\" ref={timecontainer}>\n                \n                <animated.div className=\"TimeScale\" {...bind()} style={{ width: wid,height: hei, transform: xy.interpolate((x, y) => `translate3d(0px,${y}px,0)`) }}>\n                    {timescale}\n                </animated.div>\n            </div>\n        </div>\n    )\n}\n\nexport default TimeSelector","import React, { useState, useLayoutEffect } from \"react\";\nimport { useGlobal } from 'reactn';\nimport dateFormat from \"dateformat\"\nimport \"./timelabel.css\"\n\n\n\n\nfunction TimeLabel() {\n\n    const [ appdate,  ] = useGlobal('appdate')\n    const [ highlight, ] = useGlobal('highlight')\n    const [ searching, ] = useGlobal('searching')\n\n    const [year, setYear] = useState('') \n    const [month, setMonth] = useState('') \n    const [day, setDay] = useState('') \n    const [time, setTime] = useState('') \n\n    useLayoutEffect(() => {     \n        let date = new Date(appdate)\n        setYear(date.getUTCFullYear())\n        setMonth(dateFormat(date,'UTC:mmm'))\n        setDay(dateFormat(date,'UTC:dd'))\n        setTime(dateFormat(date,'UTC:HH:MM:ss'))\n    },[appdate])\n\n    useLayoutEffect(() => {     \n        console.log('Searching: '+searching)\n    },[searching])\n\n\n    return (\n        <div className='LabelCountainer' >\n            <div className={searching===true?'Line  Line-active':'Line'} key='line' >____</div>\n            <div className={highlight==='day'?'DayLabel  Highlighted':'DayLabel'}  key='day'  >{day}</div>\n            <div className={highlight==='year'?'YearLabel  Highlighted':'YearLabel'}  key='year' >{year}</div>\n            <div className={highlight==='month'?'MonthLabel  Highlighted':'MonthLabel'}  key='month' >{month}</div>\n            <div className='TimeLabel' key='time' >{time}</div>\n        </div>\n    );\n    // <div className='MonthLabel' key='month' style={highlight=='month'?{color: 'rgba(120,0,0,1)'}:{}} >{month}</div>\n\n\n    \n}\n\nexport default TimeLabel;\n","import React, { useState, useLayoutEffect } from \"react\";\nimport { useGlobal } from 'reactn';\nimport \"./mapstatelabel.css\"\n\n\n\nfunction MapStateLabel() {\n\n    const [ appaltitude,  ] = useGlobal('appaltitude')\n    // const [altitude, setAltitude] = useState()\n\n\n    // useLayoutEffect(() => {    \n    //     console.log('Altitude changed') \n    //     setAltitude(Math.ceil(appaltitude / 1000))\n    // },[appaltitude])\n\n    return (\n        <div className='MapStateLabel' >\n            <div >{Math.ceil(appaltitude / 1000)+ ' Km'}</div>\n        </div>\n    )\n    // <div className='MonthLabel' key='month' style={highlight=='month'?{color: 'rgba(120,0,0,1)'}:{}} >{month}</div>\n\n\n    \n}\n\nexport default MapStateLabel;\n","import React, { useEffect, useState } from \"react\";\nimport { useGlobal } from 'reactn';\nimport { useHotkeys } from 'react-hotkeys-hook';\nimport './debug.css'\n\n\n\n\nfunction Debug() {\n\n    const [ debug, setDebug ] = useGlobal('debug')\n    const [ active, setActive ] = useState(false)\n    const [ debugkeys, setDebugkeys ] = useState([])\n    \n\n    useHotkeys(\"d\",()=>{setActive(active => !active)}) \n\n    useEffect(() => {\n        console.log('Debug Overlay Key: d')\n    }, []);\n\n    useEffect(() => {\n        if(active) {\n            console.log('debug txt: ')\n            console.log(debug)\n            let lines = debugkeys\n            lines[debug[1]] = debug[0]\n            setDebugkeys( lines )\n            console.log(lines)\n        }\n    }, [debug]);\n\n\n    useEffect(() => {\n        setDebug( ['Hi',0])\n    }, []);\n\n//     const listItems = numbers.map((number) =>\n//     <li>{number}</li>\n//   );\n//   return (\n//     <ul>{listItems}</ul>\n//   )\n\n    return (\n        <div className='Debug' style={{display: (active)?'inline':'none', width: '100%', height:'100%'}}>\n            {/* <div className='ContinuousScroll' style={{position: 'relative', top: '70%', right:0, width: 60, height:'100%', background:  'rgba(22, 22, 20, 0.24)'}}/> */}\n            <div className='DebugBox1'>\n                <ul>\n                    {debugkeys.map(item=><li key={item?item[1]:''}>{item?item:'free'}</li>)}\n                </ul>\n            </div> \n        </div>\n    )\n}\n\nexport default Debug\n","import React, {useState, useLayoutEffect, useEffect, useRef } from \"react\";\nimport {useSpring, animated} from 'react-spring';\nimport { useGesture } from 'react-use-gesture'\nimport { useGlobal } from 'reactn'\nimport { add, sub, scale } from 'vec-la'\nimport \"./controlpanel.css\"\n\nexport default function SlidePanel(props) {\n\n    const [ , setDebug ] = useGlobal('debug')\n\n    const [visible, setVisible] = useState(true)\n    const [{ xy }, set] = useSpring(() => ({ xy: [0, 0] }))\n\n    const slidePanel = useRef()\n\n    const toggle = () =>  {\n        setDebug(['toggle from: '+visible+' '+slidePanel.current.offsetWidth,2])\n        set({ xy: !visible?[0,0]:[slidePanel.current.offsetWidth,0], immediate: false})\n        setVisible(visible => !visible)\n    }\n\n    useEffect(() => {\n        setDebug(['visible: '+visible,1])\n        // set({ xy: visible?[0,0]:[slidePanel.current.offsetWidth,0], immediate: false})\n    },[visible])\n\n    useEffect(() => {\n        setTimeout(toggle,1000)\n        // set({ xy: visible?[0,0]:[slidePanel.current.offsetWidth,0], immediate: false})\n    },[])\n\n    const bind = useGesture({\n        onDrag: ({  first , event, direction, velocity, down,  delta, vxvy, temp={initTarget: '', xy: xy.getValue()}}) => {\n            // setDebug('tempX: '+add(temp.xy,delta)[0],1)\n            // setDebug('down: '+down,2)\n            if(first) temp.initTarget = event.target.getAttribute(\"class\")\n            if(temp.initTarget != 'ControlPanel') return\n            if(down) {\n                set({ xy: add(temp.xy,delta), immediate: true })\n                // set({ xy: newxy })\n            } else {\n                if(vxvy[0] > 0.2) {\n                    let config = {  velocity: scale(direction, velocity), decay: true, precision: 1 }\n                    setDebug(['visible: '+visible,1])\n                    set({ xy: [slidePanel.current.offsetWidth,0], immediate: false})\n                    setVisible(false)\n                } else {\n                    set({ xy: temp.xy, immediate: false })\n                }\n            }\n            return temp\n\n\n            // if(!down && vxvy[0] > 0.2) {\n            //     setVisible(state => !state)\n            // } else {\n\n            //     let newxy = add(temp.xy,delta)\n            //     setDebug('offsetWidth: '+slidePanel.current.offsetWidth)\n            //     // if(!down && vxvy[0] > 0.2) {\n            //     //     newxy = [slidePanel.current.offsetWidth,0]\n            //     // }\n                \n            //     set({ xy: newxy, immediate: down })\n            //     return temp\n\n            // }\n        }\n        },\n        { event: { passive: false } })\n\n\n    return (\n        <div>\n            <img className='Logo' draggable=\"false\" src={props.imageSrc} alt=''  onClick={toggle} />\n\n            <animated.div {...bind()} ref={slidePanel} className='ControlPanel' style={{ transform: xy.interpolate((x, y) => `translate3d(${x}px,0,0)`) }}>\n                    {props.children}\n            </animated.div>\n        </div>\n\n    )\n}","import React, { useEffect } from \"react\";\nimport { useGlobal } from 'reactn';\n\nimport { HuePicker, AlphaPicker } from 'react-color';\nimport './colorpicker.css'\n\n\n// should use a prop\n\nfunction ColorPicker() {\n\n\n    const [ appcolor, setAppcolor ] = useGlobal('appcolor');\n\n    // useEffect(() => {\n    //     console.log('Mission changed to: '+ mission)\n    // }, [mission]);\n    \n    const handleChangeComplete = (color) => {\n        setAppcolor(color.hex );\n      };\n    \n    //console.log('mission rendering')\n    return (\n        <div className='ColorSelector'>\n            <HuePicker color={appcolor} onChangeComplete={handleChangeComplete }/>\n            <AlphaPicker />  \n            \n        </div>\n    )\n}\n\nexport default ColorPicker;\n","import React, { useState, useEffect } from \"react\";\nimport ClockController from \"./clockController\";\nimport Eww from \"./eww\";\nimport MissionSelector from \"./missionselector\";\nimport MapSelector from \"./mapselector\";\nimport Fullscreen from \"react-full-screen\";\nimport { useFullscreen } from '@straw-hat/react-fullscreen';\nimport { useHotkeys } from 'react-hotkeys-hook';\nimport { useGlobal } from 'reactn';\n\nimport \"./styles.css\"\nimport TimeSelector from \"./timeselector2\";\nimport TimeLabel from \"./timelabel\";\nimport MapStateLabel from \"./mapstatelabel\";\n\nimport Debug from \"./debug\";\nimport SlidePanel from \"./slidepanel\";\nimport StepMask from './stepmask'\nimport ColorPicker from './colorpicker'\n\n\n\nconst App = () => {\n  //const [count, setCount] = useState(1000);\n  const [hasFetched, setFetch] = useState(false)\n\n\n  \n  const [ mission, setMission ] = useGlobal('mission');\n    useEffect(() => {\n        console.log('Mission changed to: '+ mission)\n    }, [mission]);\n \n\n\n  // Set boundaries and zoom factor of the time scale\n  const [min, setMin] = useState((new Date(\"2014-04-10\")).getTime())\n  const [max, setMax] = useState((new Date(\"2019-12-31\")).getTime())\n  \n  const [vertical, setVertical] = useState(true)\n  \n  useHotkeys(\"h\",() => {\n    setVertical(prevVertical => {\n        return (!prevVertical)\n      })\n    })\n\n\n  useEffect(() => {\n\n    const mockApi = () => {\n      return new Promise(resolve => {\n        setTimeout(() => {\n          const randomInt = Math.ceil(Math.random() * 10)\n          console.log(\"mockApi done\")\n          resolve(randomInt)\n        }, 2000)\n      })\n    }\n    \n    async function doFetch() {\n      if (!hasFetched) {\n        const apiResponse = await mockApi();\n        setFetch(true);\n      }\n    }\n\n    doFetch()\n  }, []);\n  \n\n\n\n  const [isFull,setIsfull] = useState(false)\n  const { isFullscreen, toggleFullscreen } = useFullscreen(window.document.body);\n  // const [isControlPanel, setIscontrolpanel] = useState(false)\n  \n  useHotkeys(\"f\",toggleFullscreen )  \n  \n  //const [ appdate, setAppdate ] = useGlobal('appdate');\n  // const [ myname,  ] = useGlobal('appnames');\nconsole.log('app renders')\n  return (\n    <div className=\"App\">\n      <Fullscreen enabled={isFull} onChange={() =>  {if(!isFull) setIsfull(false)} }>\n      \n        <div className=\"DateTimeLabel\" >\n          <TimeLabel vertical={vertical} />\n        </div>\n        \n        <div className=\"ClockController\">\n          <ClockController duration=\"600000\"/>\n        </div> \n\n        <div className=\"Globe\">\n          <Eww id=\"globe\" starfield=\"true\" atmosphere='true' clon='0.5' clat='40' names='true'/>\n        </div>\n        <div className={vertical?\"TimeSelectorv\":\"TimeSelectorh\"}>\n          <TimeSelector min={min} max={max} vertical={vertical}/>\n        </div>\n        \n        <div className='MissionLabel'>{mission}</div>\n        <MapStateLabel></MapStateLabel>\n        <SlidePanel active='false' imageSrc='./images/EOi_logo.png' >\n          <MissionSelector></MissionSelector>\n          <MapSelector></MapSelector>\n          \n        </SlidePanel>\n\n        <Debug action='Bonjour'/>\n        <StepMask/>\n      </Fullscreen>\n   </div>\n  );\n}\n\n\n        // <ControlPanel active='false' imageSrc='./images/EOi_logo.png' >\n        //         <MissionSelector></MissionSelector>\n        //         <MapSelector></MapSelector>\n        // </ControlPanel>\n\n// <ColorPicker />\n\n        // <div className='MiniGlobe' >\n        //   <Eww id='miniglobe' clon='0.5' clat='40' myname={myname}/>  \n        // </div>  \n\n                // <img className='Logo' src='./images/EOi_logo.png' alt='' onClick={()=>setIscontrolpanel((isControlPanel => !isControlPanel))} />\n\n\n\n\nexport default App\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n    window.location.hostname === 'localhost' ||\n      // [::1] is the IPv6 localhost address.\n      window.location.hostname === '[::1]' ||\n      // 127.0.0.1/8 is considered localhost for IPv4.\n      window.location.hostname.match(\n        /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n      )\n  );\n  \n  export default function register() {\n    if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n      // The URL constructor is available in all browsers that support SW.\n      const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n      if (publicUrl.origin !== window.location.origin) {\n        // Our service worker won't work if PUBLIC_URL is on a different origin\n        // from what our page is served on. This might happen if a CDN is used to\n        // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n        return;\n      }\n  \n      window.addEventListener('load', () => {\n        const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n  \n        if (isLocalhost) {\n          // This is running on localhost. Lets check if a service worker still exists or not.\n          checkValidServiceWorker(swUrl);\n        } else {\n          // Is not local host. Just register service worker\n          registerValidSW(swUrl);\n        }\n      });\n    }\n  }\n  \n  function registerValidSW(swUrl) {\n    navigator.serviceWorker\n      .register(swUrl)\n      .then(registration => {\n        registration.onupdatefound = () => {\n          const installingWorker = registration.installing;\n          installingWorker.onstatechange = () => {\n            if (installingWorker.state === 'installed') {\n              if (navigator.serviceWorker.controller) {\n                // At this point, the old content will have been purged and\n                // the fresh content will have been added to the cache.\n                // It's the perfect time to display a \"New content is\n                // available; please refresh.\" message in your web app.\n                console.log('New content is available; please refresh.');\n              } else {\n                // At this point, everything has been precached.\n                // It's the perfect time to display a\n                // \"Content is cached for offline use.\" message.\n                console.log('Content is cached for offline use.');\n              }\n            }\n          };\n        };\n      })\n      .catch(error => {\n        console.error('Error during service worker registration:', error);\n      });\n  }\n  \n  function checkValidServiceWorker(swUrl) {\n    // Check if the service worker can be found. If it can't reload the page.\n    fetch(swUrl)\n      .then(response => {\n        // Ensure service worker exists, and that we really are getting a JS file.\n        if (\n          response.status === 404 ||\n          response.headers.get('content-type').indexOf('javascript') === -1\n        ) {\n          // No service worker found. Probably a different app. Reload the page.\n          navigator.serviceWorker.ready.then(registration => {\n            registration.unregister().then(() => {\n              window.location.reload();\n            });\n          });\n        } else {\n          // Service worker found. Proceed as normal.\n          registerValidSW(swUrl);\n        }\n      })\n      .catch(() => {\n        console.log(\n          'No internet connection found. App is running in offline mode.'\n        );\n      });\n  }\n  \n  export function unregister() {\n    if ('serviceWorker' in navigator) {\n      navigator.serviceWorker.ready.then(registration => {\n        registration.unregister();\n      });\n    }\n  }\n  ","import { setGlobal } from 'reactn';\n\n\nexport  function initGlobalStates() {\n    console.log(\"init global: \"+(new Date()).getTime())\n\n    // Set current time as global state\n    setGlobal({appdate: ((new Date()).getTime())})\n    setGlobal({searchdate: ((new Date()).getTime())})\n    setGlobal({mission: 'S1'})\n    setGlobal({searching: false})\n    setGlobal({apppolygon: ''})\n    \n}","import React from \"react\";\nimport { render } from \"react-dom\";\nimport App from \"./app\";\nimport {initGlobalStates} from \"./initglobalstates\"\nimport registerServiceWorker from './registerServiceWorker';\n\n// if you're in create-react-app import the files as:\n// import store from \"./js/store/index\";\n// import App from \"./js/components/App.jsx\";\ninitGlobalStates()\n\nrender(\n  <App />,\n  // The target element might be either root or app,\n  // depending on your development environment\n  // document.getElementById(\"app\")\n  document.getElementById(\"root\")\n);\nregisterServiceWorker();"],"sourceRoot":""}